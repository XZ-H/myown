<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../static/js/jquery.js"></script>
    <script src="../static/js/flexible.js"></script>
    <script src="../static/js/echarts.min.js"></script>
    <script src="../static/js/axios.min.js"></script>
    <title>Title</title>
    <link rel="stylesheet" href="../static/css/single.css">
</head>
<body>
<section class="mainBox" >
    <div class="column">
        <div class="panel bar_1">
            <h2>
                世界GDP对比图
            </h2>
            <div class="chart"></div>
            <div class="panel_footer"></div>
        </div>
    </div>
</section>
<div class="exp">
    <p>世界GDP对比分析：从图中可以看出，世界的GDP里亚洲占据首位，而北美洲紧跟其后。这两洲GDP占比总和超过世界GDP总和半成。而大洋洲，南美洲经济较为落后，仍需努力。</p>
</div>
<script type="text/javascript">

    // 基于准备好的dom，初始化echarts实例

    var myChart = echarts.init(document.querySelector(".bar_1 .chart"));

    // 指定配置
    var option = {
        // 颜色
        color: ["#2f89cf"],
        tooltip: {
            trigger: "axis",
            axisPointer: {
                // 坐标轴指示器，坐标轴触发有效
                type: "shadow", // 默认为直线，可选为：'line' | 'shadow'
            },
        },
        grid: {
            left: "0%",
            top: "10px",
            right: "0%",
            bottom: "4%",
            containLabel: true,
        },
        xAxis: [
            {
                type: "category",
                data: [],
                axisTick: {
                    alignWithLabel: true,
                },
                axisLabel: {
                    textStyle: {
                        color: "rgba(255,255,255,.6)",
                        fontSize: "12",
                    },
                    interval: 0, //坐标刻度之间的显示间隔，默认就可以了（默认是不重叠）
                    rotate: 30, //调整数值改变倾斜的幅度（范围-90到90）
                },
                axisLine: {
                    show: false,
                },
            },
        ],
        yAxis: [
            {
                type: "value",
                axisLabel: {
                    textStyle: {
                        color: "rgba(255,255,255,.6)",
                        fontSize: "12",
                    },
                },
                axisLine: {
                    lineStyle: {
                        color: "rgba(255,255,255,.1)",
                        // width: 1,
                        // type: "solid"
                    },
                },
                splitLine: {
                    lineStyle: {
                        color: "rgba(255,255,255,.1)",
                    },
                },
            },
        ],
        series: [
            {
                name: "各大洲GDP对比",
                type: "bar",
                barWidth: "35%",
                data: [],
                itemStyle: {
                    barBorderRadius: 5,
                },
            },
        ],
    };
    myChart.setOption(option);

    // 图标适配屏幕
    window.addEventListener("resize", function () {
        myChart.resize();
    });

    myChart.showLoading(); //数据加载完之前先显示一段简单的loading动画
    axios
        .get("../static/GDP_data_1.json")
        .then((res) => {
            // console.log(res.data)
            let json = res.data;
            let arrs = [];
            let arrx = [];

            for (let i in json) {
                console.log(json[i]);
                arrx.push(json[i]["name"]);
                arrs.push(json[i]["value"]);
            }
            option.xAxis[0].data = arrx;
            option.series[0].data = arrs;
            myChart.hideLoading();
            myChart.setOption(option);
        })
        .catch((err) => {
            console.log(err);
            // myChart.hideLoading();
        });

</script>

</body>
</html>