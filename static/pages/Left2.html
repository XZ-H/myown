
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../static/js/jquery.js"></script>
    <script src="../static/js/flexible.js"></script>
    <script src="../static/js/echarts.min.js"></script>
    <script src="../static/js/axios.min.js"></script>
    <title>Title</title>
    <link rel="stylesheet" href="../static/css/single.css">
</head>
<body>
<section class="mainBox" >
    <div class="column">
        <div class="panel line_1">
                <h2>亚洲GDP对比图</h2>
                <div class="chart"></div>
                <div class="panel_footer"></div>
        </div>
    </div>
</section>
<div class="exp">
    <p>亚洲GDP对比结果如上图所示，中国在亚洲GDP比重最高，日本和印度其次，由此可见中国是亚洲的老大哥。</p>
</div>
<script type="text/javascript">
    var myChart = echarts.init(document.querySelector(".line_1 .chart"));
    var option = {
        color: ["#00f2f1"],
        tooltip: {
            // 通过坐标轴来触发
            trigger: "axis",
        },
        legend: {
            // 距离容器10%
            right: "10%",
            // 修饰图例文字的颜色
            textStyle: {
                color: "#4c9bfd",
            },
            // 如果series 里面设置了name，此时图例组件的data可以省略
        },
        grid: {
            top: "20%",
            left: "3%",
            right: "4%",
            bottom: "3%",
            show: true,
            borderColor: "#012f4a",
            containLabel: true,
        },

        xAxis: [
            {
                type: "category",
                boundaryGap: false,
                data: [],
                // 去除刻度
                axisTick: {
                    show: false,
                },
                // 修饰刻度标签的颜色
                axisLabel: {
                    color: "rgba(255,255,255,.7)",
                },
                // 去除x坐标轴的颜色
                axisLine: {
                    show: false,
                },
            },
        ],
        dataZoom: [
            {
                type: "inside",
                start: 0,
                end: 10,
            },
            {
                start: 0,
                end: 10,
                handleIcon:
                    "M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",
                handleSize: "80%",
                handleStyle: {
                    color: "#4169E1",
                    shadowBlur: 3,
                    shadowColor: "rgba(0, 0, 0, 0.6)",
                    shadowOffsetX: 2,
                    shadowOffsetY: 2,
                },
            },
        ],
        yAxis: [
            {
                type: "value",
                // 去除刻度
                axisTick: {
                    show: false,
                },
                // 修饰刻度标签的颜色
                axisLabel: {
                    color: "rgba(255,255,255,.7)",
                },
                // 修改y轴分割线的颜色
                splitLine: {
                    lineStyle: {
                        color: "#012f4a",
                    },
                },
            },
        ],
        series: [
            {
                name: "亚洲各国家GDP",
                type: "line",
                // stack: "xxxxxxx",
                // 是否让线条圆滑显示
                smooth: true,
                data: [],
            },
        ],
    };
    myChart.setOption(option);
    window.addEventListener("resize", function () {
        myChart.resize();
    });

    myChart.showLoading(); //数据加载完之前先显示一段简单的loading动画
    axios
        .get("../static/GDP_data_1.json")
        .then((res) => {
            let json = res.data;
            let arrx = [];
            let arrs = [];
            console.log("ok");
            for (let i in json[0]["children"]) {
                console.log(json[0]["children"]);
                arrx.push(json[0]["children"][i]["name"]);
                arrs.push(json[0]["children"][i]["value"]);
            }
            option.xAxis[0].data = arrx;
            option.series[0].data = arrs;
            myChart.hideLoading();
            myChart.setOption(option);
        })
        .catch((err) => {
            console.log(err);
            // myChart.hideLoading();
        });

</script>

</body>
</html>